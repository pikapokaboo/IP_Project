<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>The Archivist - Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>

<body class="page">
  <div class="home-wrap">

    <div id="letterOverlay" class="letter-overlay" style="display: none;">
      <div class="letter-frame">
        <div class="letter-card">
          <div class="letter-top">
            <div class="letter-stamp">
              <img src="Images/stamp.png" alt="" onerror="this.style.display='none';">
            </div>
            <div style="font-size:0.65rem; letter-spacing:0.1em; opacity:0.85;">
              CENTRAL ARCHIVAL COMMITTEE
            </div>
            <div class="letter-divider"></div>
          </div>

          <div class="letter-body">
            <div style="font-size:0.6rem; opacity:0.75; letter-spacing:0.08em;">
              OFFICIAL DIRECTIVE &middot; REF: CAC-32/A7
            </div>

            <div class="title-line">
              <span id="archivistName">Archivist's Name</span>,
            </div>

            <p>
              By authority of the Central Archival Committee, you are hereby appointed to active investigative duty
              under Archival Mandate 14-C, concerning anomalous specimens recovered during the most recent expedition
              to <strong>Site 32</strong>.
            </p>

            <p>
              Preliminary field documentation indicates irregular behavioral patterns, unstable physical properties,
              and incomplete classification records. Your role is to observe, document, and complete the archival
              record where prior data has proven insufficient.
            </p>

            <p>
              You are granted provisional clearance to interact with authorized materials strictly within designated
              containment environments. All observations, visual records, and written analyses must be logged in
              accordance with Archival Protocol 7-B.
            </p>

            <p>
              Be advised that containment integrity cannot be guaranteed. Prior incidents include hostile reactions,
              environmental contamination, and psychological trauma. Adherence to all issued safety procedures is mandatory.
            </p>

            <p>
              Failure to comply with documentation standards, containment instructions, or confidentiality requirements
              will result in immediate revocation of clearance and may warrant further disciplinary action.
            </p>

            <p>
              Upon arrival, report to the on-site terminal and authenticate your credentials to receive your briefing
              and access to the active archive.
            </p>

            <p>
              This document constitutes a binding operational directive.<br>
            </p>

            <span style="opacity:0.85;">&mdash; Central Archival Committee</span>
            
          </div>

          <div class="signature-area">
            <div class="signature-row" id="signatureRow">
              <img id="signatureImg" class="signature-img" src="Images/signature.png" alt="Signature" />
              <div id="pen" class="pen" aria-label="Drag pen to sign">
                <img src="Images/pen.png" alt="Pen" />
              </div>

              <div class="sig-line" id="sigLine"></div>
              <div class="sig-label">AUTHORIZED SIGNATURE</div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div id="terminalScene" class="terminal-stage">
<div class="terminal-shell">
    <div class="terminal-loading-screen" aria-live="polite">
      <div class="terminal-loading-box">
        <div class="terminal-loading-topbar">
          <div class="terminal-brand">
            <span class="terminal-tag">CCC</span>
            Central Archival Committee Terminal
          </div>
          <div class="terminal-meta">
            <span>Boot: Secure</span>
            <span>Integrity: 100%</span>
            <span>Mode: Init</span>
          </div>
        </div>
        <div class="terminal-loading-body">
          <div class="terminal-loading-head">
            <span>Loading...</span>
            <span id="loadingPercent">0%</span>
          </div>
          <div class="terminal-loading-bar">
            <div class="terminal-loading-fill" id="loadingFill"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="terminal-frame">
      <div class="terminal-content">
        <div class="terminal-boot" aria-hidden="true">
          <pre class="terminal-boot-log" id="bootLog">CCC BOOT SEQUENCE INITIATED
VERIFYING CORE MODULES...
LOADING ARCHIVAL KERNEL...
SYNCING SECURE BUS...
AWAITING OPERATOR AUTHORIZATION...</pre>
        </div>
        <header class="terminal-topbar">
        <div class="terminal-brand">
          <span class="terminal-tag">CCC</span>
          Central Archival Committee Terminal
        </div>
        <div class="terminal-meta">
          <span>Clearance: New Hire</span>
          <span>Status: Online</span>
          <span id="sessionTimer">Session: 00:00:00</span>
        </div>
        </header>

        <div class="terminal-body">
        <aside class="terminal-sidebar">
          <div class="terminal-panel">
            <h3>System Brief</h3>
            <p>Welcome to the Central Archival Committee. Your assignments and survival depend on accurate, cautious research.</p>
          </div>

          <div class="terminal-panel">
            <h3>Navigation</h3>
            <div class="terminal-tabs">
              <button class="terminal-tab-btn active" data-tab="archive" aria-selected="true">Archive</button>
              <button class="terminal-tab-btn" data-tab="objects" aria-selected="false">Objects</button>
              <button class="terminal-tab-btn" data-tab="achievements" aria-selected="false">Achievements</button>
            </div>
          </div>

          <div class="terminal-panel">
            <h3>Active Case</h3>
            <div class="terminal-badge">CCC-B04-312</div>
            <p>File integrity 100% restored. Continue research to expand operational clearance.</p>
          </div>

          <div class="terminal-panel">
            <h3>Quick Actions</h3>
            <a class="terminal-btn" href="index.html">Log Out</a>
                      </div>
        </aside>

        <main class="terminal-main">
          <section id="tab-archive" class="terminal-tab active">
            <div class="terminal-header">
              <div>
                <h2>Archive Access</h2>
                <p>Granted documents are fully available for review.</p>
              </div>
              <div class="terminal-indicator">Clearance Level 0</div>
            </div>

            <div class="terminal-grid">
              <div class="terminal-panel terminal-list">
                <h3>Case Files</h3>
                <button class="terminal-list-item active" data-case="b04-312">
                  <span>CCC-B04-312: Contained CRT Entity</span>
                  <small>Unredacted</small>
                </button>
                <button class="terminal-list-item" data-case="a17-049">
                  <span>CCC-A17-049: Temporal Camcorder</span>
                  <small>Unredacted</small>
                </button>
              </div>

              <div class="terminal-panel terminal-doc">
                <div class="terminal-doc-header">
                  <div>
                    <h3 id="archiveTitle">CCC-B04-312: Contained CRT Entity</h3>
                    <small id="archiveMeta">Classification: Contained Bio-Mechanical Entity | Location: Site 9 — Media Anomaly Storage</small>
                  </div>
                  <span class="terminal-tag">UNREDACTED</span>
                </div>
                <pre class="terminal-doc-body" id="archiveBody">
CENTRAL ARCHIVAL COMMITTEE — FILE ACCESS
ITEM ID: CCC-B04-312
CLASSIFICATION: Contained Bio-Mechanical Entity
ASSIGNED FACILITY: Site 9 — Media Anomaly Storage
STATUS: Active / Contained
------------------------------------------------------------
CONTAINMENT PROTOCOL
- House the unit in a dimly lit media containment room.
- No direct sunlight. No active audio equipment beyond the monitor.
- Maintain continuous power. Power loss beyond 30 seconds triggers aggressive activity.
- Approved use: testing and administrative tasks only.
- Prohibited: touching the display surface, striking the casing, or attempting to open it.
- Approved offerings: processed sugars, raw meat, distilled water placed near ventilation slits.
------------------------------------------------------------
ARTIFACT DESCRIPTION
CCC-B04-312 is a CRT monitor of unknown manufacture. The casing resembles late‑1990s consumer hardware; internal components do not match known designs. The device is significantly heavier than expected and functions normally when connected to compatible systems.

Inside the casing resides a living organism.
------------------------------------------------------------
CONTAINED ORGANISM DESCRIPTION
A soft‑bodied, tentacled entity occupies the internal structure of the monitor, consistent with hermit‑crab‑like habitation behavior. Appendages are intermittently visible through ventilation gaps and, rarely, beneath the display glass. Internal scans show the organism has integrated around key components, rerouting circuitry through its own tissue without disrupting functionality.

The monitor is not alive. The organism is.
------------------------------------------------------------
BEHAVIORAL NOTES
Positive response to:
- Food placement near the casing
- Gentle tapping on the monitor frame
- Continuous power supply
- Static images or low‑motion visuals

Negative response to:
- Attempts to open or damage the casing
- Hands placed against the display surface
- Sudden loss of power
- Prolonged display of its own reflection

Agitation manifests as visible tentacle movement beneath the glass, image warping, and localized heat buildup.
------------------------------------------------------------
INCIDENT REPORT 9-61
A technician placed a palm against the active display surface. The screen showed a distorted reflection followed by internal movement inconsistent with electrical interference. The technician was later found with severe neurological trauma and internal hemorrhaging localized to the contact arm. No external wounds were observed. Review indicates defensive appendage extension through the display’s electromagnetic field. Direct contact with the screen is now classified as lethal.
------------------------------------------------------------
ADDITIONAL OBSERVATIONS
- When powered down for extended periods, faint internal movement is audible.
- If left unplugged for longer than 30 seconds, appendages attempt to exit through ventilation openings.
- Re‑powering causes immediate retreat.
------------------------------------------------------------
ARCHIVAL NOTE
The monitor is not haunted. It is occupied.
The organism does not understand what a monitor is—only that it is safe, warm, and full of moving light.
When the screen is on, the creature is calm.
When the screen goes dark, it starts to look for somewhere else to live.
                </pre>
                <div class="terminal-footnote">Access log updated. All sections visible.</div>
              </div>
            </div>
          </section>

          <section id="tab-objects" class="terminal-tab">
            <div class="terminal-header">
              <div>
                <h2>Object Testing</h2>
                <p>Choose a secured object and run a controlled test sequence.</p>
              </div>
              <div class="terminal-indicator amber">Testing Queue: 2</div>
            </div>

            <div class="terminal-grid">
              <div class="terminal-panel terminal-list">
                <h3>Available Objects</h3>
                <button class="terminal-list-item active" data-case="b04-312">
                  <span>CCC-B04-312</span>
                  <small>Ready</small>
                </button>
                <button class="terminal-list-item" data-case="a17-049">
                  <span>CCC-A17-049</span>
                  <small>Ready</small>
                </button>
              </div>

              <div class="terminal-panel terminal-console">
                <div class="terminal-model">
                <div class="terminal-model-frame">
                  <div class="terminal-model-placeholder" id="objectModelNote">
                    3D Model Turntable
                    <span>Sketchfab embed goes here</span>
                  </div>
                </div>
              </div>
              <div class="terminal-object-meta">
                <h3 id="objectTitle">CCC-B04-312: Contained CRT Entity</h3>
                <div class="terminal-object-tags">
                  <span id="objectClass">Classification: Contained Bio-Mechanical Entity</span>
                  <span id="objectFacility">Facility: Site 9 — Media Anomaly Storage</span>
                  <span id="objectStatus">Status: Active / Contained</span>
                </div>
                <p class="terminal-object-desc" id="objectDesc">
                  A late‑1990s CRT monitor housing a living organism within the casing. The entity is generally docile when undisturbed and responds to light, low‑motion visuals, and continuous power.
                </p>
              </div>
                <button class="terminal-start-btn">Start Testing</button>
              </div>
            </div>
          </section>

          <section id="tab-achievements" class="terminal-tab">
            <div class="terminal-header">
              <div>
                <h2>Achievements</h2>
                <p>CCC rewards persistent research and safe testing habits.</p>
              </div>
              <div class="terminal-indicator"><span id="achievementCount">Unlocked: 0 / 6</span></div>
            </div>

            <div class="terminal-achievements">
              <div class="terminal-panel terminal-achievement">
                <img class="terminal-achievement-icon" src="Images/Clockin’ Out.png" alt="Clockin’ Out icon" />
                <div>
                  <h3>Clockin’ Out</h3>
                  <p>Complete one shift of observation.</p>
                </div>
                <span class="terminal-badge">Unlocked</span>
              </div>
              <div class="terminal-panel terminal-achievement">
                <img class="terminal-achievement-icon" src="Images/Digitally Traditional.png" alt="Digitally Traditional icon" />
                <div>
                  <h3>Digitally Traditional</h3>
                  <p>Complete the archive of CCC-B04-312.</p>
                </div>
                <span class="terminal-badge">Unlocked</span>
              </div>
              <div class="terminal-panel terminal-achievement">
                <img class="terminal-achievement-icon" src="Images/Roll the camera!.png" alt="Roll the camera! icon" />
                <div>
                  <h3>Roll the camera!</h3>
                  <p>Complete the archive of CCC-A17-049.</p>
                </div>
                <span class="terminal-badge">Unlocked</span>
              </div>
              <div class="terminal-panel terminal-achievement">
                <img class="terminal-achievement-icon" src="Images/Stomach the knowledge.png" alt="Stomach the knowledge icon" />
                <div>
                  <h3>Stomach the knowledge</h3>
                  <p>Die to CCC-B04-312.</p>
                </div>
                <span class="terminal-badge">Unlocked</span>
              </div>
              <div class="terminal-panel terminal-achievement">
                <img class="terminal-achievement-icon" src="Images/Into a new world.png" alt="Into a new world icon" />
                <div>
                  <h3>Into a new world</h3>
                  <p>Die to CCC-A17-049.</p>
                </div>
                <span class="terminal-badge">Unlocked</span>
              </div>
              <div class="terminal-panel terminal-achievement">
                <img class="terminal-achievement-icon" src="Images/Congratulations..png" alt="Congratulations icon" />
                <div>
                  <h3>Congratulations</h3>
                  <p>Finish the demo.</p>
                </div>
                <span class="terminal-badge">Unlocked</span>
              </div>
            </div>
          </section>
        </main>
        </div>

        <footer class="terminal-footer">
        <span>CCC Terminal Build 0.8.2</span>
        <span>Research Integrity: 78%</span>
        <span>Press TAB to cycle panels</span>
        </footer>
      </div>
    </div>
  </div>
    </div>
  </div>

  <script src="restdb-config.js"></script>
  <script>
    const user = localStorage.getItem("currentUser");
    if (!user) window.location.href = "index.html";

    const archivistName = document.getElementById("archivistName");
    if (archivistName) archivistName.textContent = user;

    const homeWrap = document.querySelector(".home-wrap");
    const terminalScene = document.getElementById("terminalScene");

    let terminalInitialized = false;
    let terminalBooted = false;

    const showTerminal = () => {
      if (!terminalScene) return;
      terminalScene.style.display = "flex";
      document.body.classList.add("terminal-page");
      homeWrap?.classList.add("terminal-active");

      if (!terminalInitialized) {
        document.body.classList.add("terminal-loading");
        document.body.classList.remove("terminal-loaded");
        initTerminal();
      } else if (terminalBooted) {
        document.body.classList.add("terminal-loaded");
        document.body.classList.remove("terminal-loading");
      }
    };

    const overlay = document.getElementById("letterOverlay");
    const pen = document.getElementById("pen");
    const sigImg = document.getElementById("signatureImg");
    const sigLine = document.getElementById("sigLine");
    const devMode = localStorage.getItem("devMode") === "true";

    let dragging = false;
    let startX = 0;
    let penStartTx = 0;
    let currentTx = 0;
    let signed = false;
    let bounds = { minTx: 0, maxTx: 0 };
    let skipLetter = false;
    let accountId = null;
    let accountCache = null;
    let letterStarted = false;

    overlay.style.display = "none";

    async function restdbFetch(path, options = {}) {
      if (devMode) {
        throw new Error("DEV_MODE is ON. RestDB requests are disabled.");
      }
      const url = `${RESTDB_BASE}/${path}`;

      const res = await fetch(url, {
        ...options,
        headers: {
          "Content-Type": "application/json",
          "x-apikey": CORS_API_KEY,
          ...(options.headers || {})
        }
      });

      const text = await res.text();
      let data;
      try { data = text ? JSON.parse(text) : null; } catch { data = text; }

      if (!res.ok) {
        const msg = (data && (data.msg || data.message)) ? (data.msg || data.message) : `Request failed (${res.status})`;
        throw new Error(msg);
      }

      return data;
    }

    async function findAccount(username) {
      const q = encodeURIComponent(JSON.stringify({ username }));
      const results = await restdbFetch(`${COLLECTION}?q=${q}`, { method: "GET" });
      return Array.isArray(results) && results.length ? results[0] : null;
    }

    async function loadLetterState(username) {
      if (devMode) return;
      try {
        const account = await findAccount(username);
        accountCache = account;
        accountId = account?._id || null;
        if (account && account.letterSigned == null) {
          try {
            await restdbFetch(`${COLLECTION}/${accountId}`, {
              method: "PATCH",
              body: JSON.stringify({ letterSigned: false })
            });
          } catch (err) {
            console.warn("RestDB PATCH failed while initializing letterSigned:", err);
          }
        }
        if (account && account.letterSigned) {
          skipLetter = true;
          signed = true;
          overlay.classList.add("dismiss");
          overlay.style.display = "none";
          showTerminal();
          return;
        }
        startLetter();
      } catch {
        // If RestDB fails, keep the interaction visible.
        startLetter();
      }
    }

    async function markLetterSigned() {
      if (devMode) return;
      try {
        if (!accountId && user) {
          const account = await findAccount(user);
          accountCache = account;
          accountId = account?._id || null;
        }
        if (!accountId) return;

        try {
          await restdbFetch(`${COLLECTION}/${accountId}`, {
            method: "PATCH",
            body: JSON.stringify({ letterSigned: true })
          });
        } catch (err) {
          console.warn("RestDB PATCH failed while marking letterSigned:", err);
          if (accountCache) {
            const updated = { ...accountCache, letterSigned: true };
            delete updated._id;
            await restdbFetch(`${COLLECTION}/${accountId}`, {
              method: "PUT",
              body: JSON.stringify(updated)
            });
          }
        }
      } catch {
        // Best-effort only.
      }
    }

    function setPenX(x) {
      pen.style.setProperty("--pen-x", `${x}px`);
    }

    function setSignatureProgress(p) {
      const v = Math.min(1, Math.max(0, p));
      sigImg.style.opacity = v;
      sigImg.style.transform = `translateY(${6 - v * 6}px)`;
    }

    function computeBounds() {
      const prev = pen.style.getPropertyValue("--pen-x");
      setPenX(0);

      const lineRect = sigLine.getBoundingClientRect();
      const penRect = pen.getBoundingClientRect();

      const minTx = lineRect.left - penRect.left;
      const maxTx = lineRect.right - penRect.right;

      setPenX(parseFloat(prev) || 0);

      bounds.minTx = Math.min(minTx, maxTx);
      bounds.maxTx = Math.max(minTx, maxTx);
    }

    function range() {
      return Math.max(1, bounds.maxTx - bounds.minTx);
    }

    function finish() {
      if (signed) return;
      signed = true;

      setPenX(bounds.maxTx);
      setSignatureProgress(1);
      markLetterSigned();

      setTimeout(() => {
        overlay.classList.add("dismiss");
        setTimeout(() => {
          overlay.style.display = "none";
          showTerminal();
        }, 900);
      }, 2500);
    }

    function startLetter() {
      if (letterStarted || skipLetter) return;
      letterStarted = true;
      overlay.style.display = "flex";

      setTimeout(() => {
        if (skipLetter) return;
        pen.classList.add("visible");
        computeBounds();
        currentTx = bounds.minTx;
        setPenX(currentTx);
        setSignatureProgress(0);
      }, 2000);
    }

    loadLetterState(user);
    if (devMode) startLetter();

    window.addEventListener("resize", () => {
      if (!pen.classList.contains("visible") || signed) return;
      computeBounds();
      currentTx = Math.min(bounds.maxTx, Math.max(bounds.minTx, currentTx));
      setPenX(currentTx);
      setSignatureProgress((currentTx - bounds.minTx) / range());
    });

    pen.addEventListener("pointerdown", (e) => {
      if (!pen.classList.contains("visible") || signed) return;
      dragging = true;
      startX = e.clientX;
      penStartTx = currentTx;
      pen.setPointerCapture?.(e.pointerId);

    });

    window.addEventListener("pointermove", (e) => {
      if (!dragging || signed) return;

      const dx = e.clientX - startX;
      currentTx = Math.min(bounds.maxTx, Math.max(bounds.minTx, penStartTx + dx));

      setPenX(currentTx);
      setSignatureProgress((currentTx - bounds.minTx) / range());

      if (((currentTx - bounds.minTx) / range()) > 0.98) {
        dragging = false;
        finish();
      }
    });

    window.addEventListener("pointerup", () => {
      if (!dragging || signed) return;
      dragging = false;

      pen.style.transition = "transform 0.35s cubic-bezier(0.2, 0.8, 0.2, 1.15), opacity 0.6s ease";
      sigImg.style.transition = "opacity 0.3s ease, transform 0.3s ease";

      currentTx = bounds.minTx;
      setPenX(currentTx);
      setSignatureProgress(0);

      setTimeout(() => {
        pen.style.transition = "";
        sigImg.style.transition = "";
      }, 360);
    });


    sigImg.addEventListener("error", () => sigImg.style.display = "none");

    function initTerminal() {
      if (terminalInitialized) return;
      terminalInitialized = true;
const tabButtons = document.querySelectorAll(".terminal-tab-btn");
    const tabs = document.querySelectorAll(".terminal-tab");

    tabButtons.forEach((button) => {
      button.addEventListener("click", () => {
        const target = button.getAttribute("data-tab");

        tabButtons.forEach((btn) => {
          const isActive = btn === button;
          btn.classList.toggle("active", isActive);
          btn.setAttribute("aria-selected", isActive ? "true" : "false");
        });

        tabs.forEach((tab) => {
          tab.classList.toggle("active", tab.id === `tab-${target}`);
        });
      });
    });

    const achievementCount = document.getElementById("achievementCount");
    if (achievementCount) {
      const total = document.querySelectorAll(".terminal-achievement").length;
      const unlocked = document.querySelectorAll(".terminal-achievement:not(.locked)").length;
      achievementCount.textContent = `Unlocked: ${unlocked} / ${total}`;
    }

    const sessionTimer = document.getElementById("sessionTimer");
    if (sessionTimer) {
      const sessionStart = Date.now();
      const pad = (n) => String(n).padStart(2, "0");

      const updateSessionTime = () => {
        const elapsed = Math.floor((Date.now() - sessionStart) / 1000);
        const hours = Math.floor(elapsed / 3600);
        const minutes = Math.floor((elapsed % 3600) / 60);
        const seconds = elapsed % 60;
        sessionTimer.textContent = `Session: ${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;
      };

      updateSessionTime();
      setInterval(updateSessionTime, 1000);
    }

    const archiveTitle = document.getElementById("archiveTitle");
    const archiveMeta = document.getElementById("archiveMeta");
    const archiveBody = document.getElementById("archiveBody");

    const archiveData = {
      "b04-312": {
        title: "CCC-B04-312: Contained CRT Entity",
        meta: "Classification: Contained Bio-Mechanical Entity | Location: Site 9 — Media Anomaly Storage",
        body: `CENTRAL ARCHIVAL COMMITTEE — FILE ACCESS
ITEM ID: CCC-B04-312
CLASSIFICATION: Contained Bio-Mechanical Entity
ASSIGNED FACILITY: Site 9 — Media Anomaly Storage
STATUS: Active / Contained
------------------------------------------------------------
CONTAINMENT PROTOCOL
- House the unit in a dimly lit media containment room.
- No direct sunlight. No active audio equipment beyond the monitor.
- Maintain continuous power. Power loss beyond 30 seconds triggers aggressive activity.
- Approved use: testing and administrative tasks only.
- Prohibited: touching the display surface, striking the casing, or attempting to open it.
- Approved offerings: processed sugars, raw meat, distilled water placed near ventilation slits.
------------------------------------------------------------
ARTIFACT DESCRIPTION
CCC-B04-312 is a CRT monitor of unknown manufacture. The casing resembles late‑1990s consumer hardware; internal components do not match known designs. The device is significantly heavier than expected and functions normally when connected to compatible systems.

Inside the casing resides a living organism.
------------------------------------------------------------
CONTAINED ORGANISM DESCRIPTION
A soft‑bodied, tentacled entity occupies the internal structure of the monitor, consistent with hermit‑crab‑like habitation behavior. Appendages are intermittently visible through ventilation gaps and, rarely, beneath the display glass. Internal scans show the organism has integrated around key components, rerouting circuitry through its own tissue without disrupting functionality.

The monitor is not alive. The organism is.
------------------------------------------------------------
BEHAVIORAL NOTES
Positive response to:
- Food placement near the casing
- Gentle tapping on the monitor frame
- Continuous power supply
- Static images or low‑motion visuals

Negative response to:
- Attempts to open or damage the casing
- Hands placed against the display surface
- Sudden loss of power
- Prolonged display of its own reflection

Agitation manifests as visible tentacle movement beneath the glass, image warping, and localized heat buildup.
------------------------------------------------------------
INCIDENT REPORT 9-61
A technician placed a palm against the active display surface. The screen showed a distorted reflection followed by internal movement inconsistent with electrical interference. The technician was later found with severe neurological trauma and internal hemorrhaging localized to the contact arm. No external wounds were observed. Review indicates defensive appendage extension through the display’s electromagnetic field. Direct contact with the screen is now classified as lethal.
------------------------------------------------------------
ADDITIONAL OBSERVATIONS
- When powered down for extended periods, faint internal movement is audible.
- If left unplugged for longer than 30 seconds, appendages attempt to exit through ventilation openings.
- Re‑powering causes immediate retreat.
------------------------------------------------------------
ARCHIVAL NOTE
The monitor is not haunted. It is occupied.
The organism does not understand what a monitor is—only that it is safe, warm, and full of moving light.
When the screen is on, the creature is calm.
When the screen goes dark, it starts to look for somewhere else to live.`
      },
      "a17-049": {
        title: "CCC-A17-049: Temporal Camcorder",
        meta: "Classification: High Risk Temporal Artifact | Location: Site 14 — Temporal Observation Wing",
        body: `CENTRAL ARCHIVAL COMMITTEE — FILE ACCESS
ITEM ID: CCC-A17-049
CLASSIFICATION: High Risk Temporal Artifact
ASSIGNED FACILITY: Site 14 — Temporal Observation Wing
STATUS: Active / Contained
------------------------------------------------------------
CONTAINMENT PROTOCOL
- Store the unit in a sound-insulated archival locker constructed from non-reflective composite material.
- Device must remain powered off unless an observation cycle is formally approved by the Site 14 Oversight Panel.
- Minimum of two observers required for all interactions. No solo operation permitted.
- At least one independent real-time recording device must be active during use.
- Prohibited: aiming the unit at reflective surfaces, live monitors, or its own playback screen.
- If displayed footage diverges from observed reality by more than 8 seconds, abort the cycle immediately and return the device to containment.
------------------------------------------------------------
ARTIFACT DESCRIPTION
CCC-A17-049 is a handheld consumer camcorder of indeterminate origin. The casing shows cosmetic wear consistent with prolonged personal use. Internal components do not correspond to any known manufacturer, and no serial numbers, firmware identifiers, or recoverable metadata have been identified.

When powered on, the device displays and records events that have not yet occurred.
------------------------------------------------------------
ANOMALOUS PROPERTIES
The camcorder’s viewfinder presents reality between 3 and 7 seconds ahead of the present moment. Audio is synchronized with the displayed footage. The effect resembles a delayed live feed, as though upcoming events are preloaded before occurring.

The temporal offset is variable. During periods of rapid movement, emotional stress, or imminent bodily harm, the delay has extended to as much as 12 seconds.

The device does not generate hypothetical outcomes. All recorded footage represents events that will occur exactly as shown.
------------------------------------------------------------
BEHAVIORAL NOTES
- Once an individual observes an event through the device’s display, the recorded outcome becomes unavoidable.
- Attempts to prevent or alter recorded events consistently fail through indirect means such as involuntary physical response, mechanical malfunction, or coincidental environmental interference.
- Subjects report a growing sensation of detachment with prolonged viewing, commonly described as “lagging behind reality.”
- CCC-A17-049 has never displayed footage in which it is destroyed, disabled, or rendered inoperable.
------------------------------------------------------------
INCIDENT REPORT 14-77
During a controlled test, CCC-A17-049 was positioned facing a sealed observation door. Playback footage showed the door opening, followed by the camcorder falling forward and impacting the floor lens-first.

Personnel attempted to terminate the observation remotely prior to the recorded timestamp. The device continued operating despite being disconnected from its power source.

At the recorded moment, the door opened. No personnel entered the room. The camcorder fell regardless.

Frame-by-frame analysis revealed a brief reflection in the camcorder lens immediately before impact. The angle indicates the device was already on the floor, recording upward—an impossible perspective given its placement at the time.

Testing involving closed doors was suspended.
------------------------------------------------------------
ADDITIONAL OBSERVATIONS
- When activated in empty rooms, the device frequently displays an individual entering frame shortly before the unit is powered off.
- Individuals shown in these recordings are consistently the personnel assigned to end the observation cycle.
- No verified instance exists of the device displaying an event that failed to occur.
------------------------------------------------------------
ARCHIVAL NOTE
CCC-A17-049 does not predict the future.
It displays events that have already committed to occurring.
By the time they are observed, reality is no longer waiting to be decided.`
      }
    };

    const setArchiveCase = (caseId) => {
      const data = archiveData[caseId];
      if (!data) return;
      if (archiveTitle) archiveTitle.textContent = data.title;
      if (archiveMeta) archiveMeta.textContent = data.meta;
      if (archiveBody) archiveBody.textContent = data.body;
    };

    const archiveButtons = document.querySelectorAll("#tab-archive .terminal-list-item");
    archiveButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        archiveButtons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        setArchiveCase(btn.getAttribute("data-case"));
      });
    });

    const objectTitle = document.getElementById("objectTitle");
    const objectClass = document.getElementById("objectClass");
    const objectFacility = document.getElementById("objectFacility");
    const objectStatus = document.getElementById("objectStatus");
    const objectDesc = document.getElementById("objectDesc");
    const objectModelNote = document.getElementById("objectModelNote");

    const objectData = {
      "b04-312": {
        title: "CCC-B04-312: Contained CRT Entity",
        classification: "Classification: Contained Bio-Mechanical Entity",
        facility: "Facility: Site 9 — Media Anomaly Storage",
        status: "Status: Active / Contained",
        desc: "A late‑1990s CRT monitor housing a living organism within the casing. The entity is generally docile when undisturbed and responds to light, low‑motion visuals, and continuous power.",
        modelNote: "CCC-B04-312 turntable"
      },
      "a17-049": {
        title: "CCC-A17-049: Temporal Camcorder",
        classification: "Classification: High Risk Temporal Artifact",
        facility: "Facility: Site 14 — Temporal Observation Wing",
        status: "Status: Active / Contained",
        desc: "A handheld camcorder that displays events several seconds before they occur. The feed is fixed and unavoidable once observed, with temporal offset increasing under stress.",
        modelNote: "CCC-A17-049 turntable"
      }
    };

    const setObjectCase = (caseId) => {
      const data = objectData[caseId];
      if (!data) return;
      if (objectTitle) objectTitle.textContent = data.title;
      if (objectClass) objectClass.textContent = data.classification;
      if (objectFacility) objectFacility.textContent = data.facility;
      if (objectStatus) objectStatus.textContent = data.status;
      if (objectDesc) objectDesc.textContent = data.desc;
      if (objectModelNote) {
        objectModelNote.innerHTML = `3D Model Turntable<span>${data.modelNote}</span>`;
      }
    };

    const objectButtons = document.querySelectorAll("#tab-objects .terminal-list-item");
    objectButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        objectButtons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        setObjectCase(btn.getAttribute("data-case"));
      });
    });
    const initialObject = document.querySelector("#tab-objects .terminal-list-item.active");
    if (initialObject) setObjectCase(initialObject.getAttribute("data-case"));

    const loadingPercent = document.getElementById("loadingPercent");
    const loadingFill = document.getElementById("loadingFill");
    const bodyEl = document.body;

    let progress = 0;
    const bootLog = document.getElementById("bootLog");
    const bootLines = [
      "CHECKSUM OK",
      "MEMORY BANKS ONLINE",
      "VAULT CHANNEL LINKED",
      "ARCHIVE INDEX MOUNTED",
      "BIOLOCKS SYNCHRONIZED",
      "FAILSAFE ARMED",
      "ENCRYPTION HANDSHAKE COMPLETE",
      "TEMPORAL BUFFER STABLE",
      "SITE 9 FEED ACTIVE",
      "SITE 14 FEED ACTIVE",
      "OBSERVATION QUEUE READY",
      "SECURE BUS HANDSHAKE",
      "RUNNING DIAGNOSTIC PASS 1",
      "RUNNING DIAGNOSTIC PASS 2",
      "SYNCING CLOCK DRIFT",
      "MOUNTING LOG PARTITIONS",
      "CACHE WARMUP COMPLETE",
      "CIPHER MODULE LOADED",
      "CONTAINMENT GRID ONLINE",
      "ANOMALY INDEX READY",
      "OPERATOR KEYS VERIFIED",
      "SENSOR ARRAY CALIBRATED",
      "THERMAL GUARD ACTIVE",
      "POWER STABILIZED",
      "ARCHIVE MIRROR READY",
      "AUDIT TRAIL OPEN",
      "VAULT ACCESS ENABLED",
      "CRC PASS",
      "STACK INTEGRITY OK",
      "NETWORK BUS ONLINE",
      "SECURITY DAEMON START",
      "KERNEL HOOKS LOADED",
      "PCI BUS ENUMERATED",
      "GPU DIAGNOSTIC OK",
      "I/O CHANNEL READY",
      "SCANNER GRID ONLINE",
      "LOCKDOWN KEYS SYNCED",
      "PHASE LOCK ACQUIRED",
      "ARCHIVE HASH VERIFIED",
      "RUNTIME CLOCK SYNC",
      "SHIELDING ACTIVE",
      "DATA PIPELINE READY",
      "OBSERVER NODE READY",
      "LOGGING ACTIVE"
    ];
    const bootInterval = bootLog ? setInterval(() => {
      const stamp = new Date().toLocaleTimeString("en-US", { hour12: false });
      const batch = Math.floor(Math.random() * 2) + 1;
      const lines = bootLog.textContent.split("\n");
      for (let i = 0; i < batch; i += 1) {
        const line = `[${stamp}] ${bootLines[Math.floor(Math.random() * bootLines.length)]}`;
        lines.push(line);
      }
      if (lines.length > 36) lines.shift();
      bootLog.textContent = lines.join("\n");
    }, 40) : null;

    const loadingInterval = setInterval(() => {
      progress = Math.min(100, progress + Math.floor(Math.random() * 7) + 4);
      if (loadingPercent) loadingPercent.textContent = `${progress}%`;
      if (loadingFill) loadingFill.style.width = `${progress}%`;

      if (progress >= 100) {
        clearInterval(loadingInterval);
        if (bootInterval) clearInterval(bootInterval);
        bodyEl.classList.remove("terminal-loading");
        bodyEl.classList.add("terminal-loaded");
        terminalBooted = true;
      }
    }, 120);
    }
  </script>
</body>
</html>
